<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>æ–°å¹´é‹å‹¢æŠ½ç±¤</title>


  <style>
    :root{
      --bg1:#0b0b0f;
      --bg2:#1a0f0a;
      --gold:#f6d27b;
      --gold2:#d9a441;
      --red:#c53030;
      --text:#f7f7f7;
      --muted:#b9b9c5;
    }

    body{
      margin:0;
      font-family: "Noto Sans TC", "Microsoft JhengHei", system-ui, sans-serif;
      background: radial-gradient(circle at top, var(--bg2), var(--bg1));
      color: var(--text);
      min-height: 100vh;
      display:flex;
      justify-content:center;
      align-items:center;
      padding: 20px;
      overflow-x: hidden;
    }

    /* =========================
       ç‡ˆç± èƒŒæ™¯å‹•ç•«
    ========================= */
    .lantern-bg{
      position: fixed;
      inset: 0;
      z-index: 0;
      pointer-events: none;
      overflow: hidden;
      opacity: 0.65;
    }

    .lantern{
      position: absolute;
      width: 70px;
      height: 95px;
      border-radius: 18px 18px 30px 30px;
      background: radial-gradient(circle at 30% 30%, rgba(255,255,255,0.45), rgba(197,48,48,0.9));
      border: 1px solid rgba(246,210,123,0.55);
      box-shadow: 0 0 30px rgba(246,210,123,0.25);
      animation: floatUp 9s infinite ease-in-out, sway 3.5s infinite ease-in-out;
    }

    .lantern::before{
      content:"";
      position: absolute;
      top: -22px;
      left: 50%;
      transform: translateX(-50%);
      width: 14px;
      height: 22px;
      border-radius: 10px;
      background: rgba(246,210,123,0.95);
      box-shadow: 0 0 12px rgba(246,210,123,0.6);
    }

    .lantern::after{
      content:"";
      position:absolute;
      bottom: -22px;
      left: 50%;
      transform: translateX(-50%);
      width: 2px;
      height: 30px;
      background: rgba(246,210,123,0.6);
    }

    .lantern-1{ left: 8%; top: 110%; animation-delay: 0s; transform: scale(0.9); }
    .lantern-2{ left: 22%; top: 130%; animation-delay: 1.2s; transform: scale(0.7); }
    .lantern-3{ left: 55%; top: 115%; animation-delay: 0.6s; transform: scale(1.1); }
    .lantern-4{ left: 78%; top: 140%; animation-delay: 1.8s; transform: scale(0.85); }
    .lantern-5{ left: 90%; top: 125%; animation-delay: 0.9s; transform: scale(0.65); }

    @keyframes floatUp{
      0%   { transform: translateY(0) scale(0.9); opacity: 0; }
      10%  { opacity: 0.9; }
      50%  { opacity: 0.7; }
      100% { transform: translateY(-160vh) scale(1.05); opacity: 0; }
    }

    @keyframes sway{
      0% { margin-left: 0px; }
      50% { margin-left: 18px; }
      100% { margin-left: 0px; }
    }

    /* =========================
       ä¸»è¦å…§å®¹
    ========================= */
    .container{
      width: min(900px, 100%);
      position: relative;
      z-index: 2;
    }

    header{
      text-align:center;
      margin-bottom: 18px;
    }

    h1{
      margin: 0 0 8px 0;
      font-size: 30px;
      letter-spacing: 2px;
      color: var(--gold);
    }

    .subtitle{
      margin:0;
      color: var(--muted);
      font-size: 14px;
      line-height: 1.6;
    }

    .panel{
      background: rgba(255,255,255,0.04);
      border: 1px solid rgba(255,255,255,0.08);
      border-radius: 18px;
      padding: 18px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.4);
    }

    .top-controls{
      display:flex;
      justify-content: space-between;
      align-items:center;
      gap: 12px;
      flex-wrap: wrap;
      margin-bottom: 14px;
    }

    .lang-switch{
      display:flex;
      gap: 8px;
      flex-wrap: wrap;
    }

    .btn{
      border:none;
      cursor:pointer;
      border-radius: 12px;
      padding: 10px 14px;
      font-weight: 800;
      font-size: 14px;
      transition: transform 0.12s ease, opacity 0.12s ease;
    }

    .btn:active{
      transform: scale(0.97);
    }

    .btn-primary{
      background: linear-gradient(135deg, var(--gold), var(--gold2));
      color:#111;
    }

    .btn-ghost{
      background: rgba(255,255,255,0.06);
      color: var(--text);
      border: 1px solid rgba(255,255,255,0.12);
    }

    .btn-danger{
      background: rgba(197,48,48,0.2);
      color: #ffb3b3;
      border: 1px solid rgba(197,48,48,0.35);
    }

    .btn-install{
      background: rgba(246,210,123,0.12);
      color: var(--gold);
      border: 1px solid rgba(246,210,123,0.25);
    }

    /* =========================
       ç±¤ç­’åœ–ç‰‡ï¼ˆCSS æ¨¡æ“¬ï¼‰
    ========================= */
    .tube-area{
      display:flex;
      justify-content:center;
      margin: 6px 0 14px 0;
    }

    .fortune-tube{
      width: 140px;
      height: 180px;
      border-radius: 26px;
      position: relative;
      overflow: hidden;
      border: 2px solid rgba(246,210,123,0.35);
      box-shadow: 0 12px 30px rgba(0,0,0,0.45);
      background:
        repeating-linear-gradient(
          90deg,
          rgba(245, 205, 135, 0.85) 0px,
          rgba(220, 165, 80, 0.92) 10px,
          rgba(190, 130, 60, 0.92) 20px
        );
    }

    .fortune-tube::before{
      content:"";
      position:absolute;
      top:0;
      left:0;
      right:0;
      height: 22px;
      background: rgba(0,0,0,0.35);
      border-bottom: 2px solid rgba(246,210,123,0.35);
    }

    .fortune-tube::after{
      content:"";
      position:absolute;
      bottom:0;
      left:0;
      right:0;
      height: 22px;
      background: rgba(0,0,0,0.35);
      border-top: 2px solid rgba(246,210,123,0.35);
    }

    .tube-label{
      position:absolute;
      left: 50%;
      top: 52%;
      transform: translate(-50%, -50%);
      width: 48px;
      height: 120px;
      border-radius: 14px;
      background: rgba(197,48,48,0.82);
      border: 1px solid rgba(246,210,123,0.55);
      display:flex;
      align-items:center;
      justify-content:center;
      font-weight: 900;
      color: rgba(255,255,255,0.95);
      letter-spacing: 3px;
      writing-mode: vertical-rl;
      text-orientation: upright;
      box-shadow: 0 0 20px rgba(197,48,48,0.25);
    }

    .tube-shake{
      animation: tubeShake 0.5s ease;
    }

    @keyframes tubeShake{
      0% { transform: rotate(0deg); }
      20% { transform: rotate(-3deg); }
      40% { transform: rotate(3deg); }
      60% { transform: rotate(-2deg); }
      80% { transform: rotate(2deg); }
      100% { transform: rotate(0deg); }
    }

    /* =========================
       ç±¤è©©é¡¯ç¤ºå¡
    ========================= */
    .fortune-box{
      background: rgba(0,0,0,0.35);
      border: 1px solid rgba(246,210,123,0.22);
      border-radius: 18px;
      padding: 18px;
      position: relative;
      overflow:hidden;
    }

    .seal{
      position:absolute;
      right:-30px;
      top:-30px;
      width: 120px;
      height: 120px;
      background: radial-gradient(circle, rgba(197,48,48,0.9), rgba(197,48,48,0.25));
      border-radius: 50%;
      filter: blur(0.2px);
      opacity: 0.6;
    }

    .fortune-title{
      display:flex;
      justify-content: space-between;
      align-items:center;
      gap: 12px;
      flex-wrap: wrap;
    }

    .tag{
      display:inline-block;
      padding: 6px 10px;
      border-radius: 999px;
      background: rgba(246,210,123,0.12);
      border: 1px solid rgba(246,210,123,0.22);
      color: var(--gold);
      font-weight: 900;
      font-size: 13px;
      letter-spacing: 1px;
    }

    .fortune-number{
      font-size: 18px;
      font-weight: 900;
      color: var(--gold);
    }

    .fortune-poem{
      margin-top: 12px;
      font-size: 18px;
      line-height: 1.9;
      letter-spacing: 1px;
      white-space: pre-line;
    }

    .fortune-meaning{
      margin-top: 12px;
      font-size: 14px;
      line-height: 1.8;
      color: var(--muted);
      white-space: pre-line;
    }

    .actions{
      display:flex;
      gap: 10px;
      flex-wrap: wrap;
      margin-top: 14px;
    }

    .shake{
      animation: shake 0.55s ease;
    }

    @keyframes shake{
      0% { transform: translateX(0); }
      15% { transform: translateX(-6px) rotate(-0.5deg); }
      30% { transform: translateX(6px) rotate(0.5deg); }
      45% { transform: translateX(-4px); }
      60% { transform: translateX(4px); }
      75% { transform: translateX(-2px); }
      100% { transform: translateX(0); }
    }

    footer{
      text-align:center;
      margin-top: 16px;
      color: rgba(255,255,255,0.35);
      font-size: 12px;
      line-height: 1.7;
    }

    .note{
      margin-top: 10px;
      font-size: 13px;
      color: rgba(255,255,255,0.55);
      line-height: 1.7;
    }

    /* =========================
       æ‰ç±¤å‹•ç•«ï¼ˆç±¤ç´™ï¼‰
    ========================= */
    .stick-drop{
      position: absolute;
      top: -160px;
      left: 50%;
      transform: translateX(-50%);
      width: 60px;
      height: 220px;
      border-radius: 10px;
      background: linear-gradient(180deg, rgba(246,210,123,0.95), rgba(255,255,255,0.92));
      border: 2px solid rgba(217,164,65,0.85);
      box-shadow: 0 10px 30px rgba(0,0,0,0.5);
      z-index: 5;
    }

    .stick-drop::before{
      content:"ç¦";
      position:absolute;
      top: 22px;
      left: 50%;
      transform: translateX(-50%);
      font-weight: 900;
      font-size: 28px;
      color: rgba(197,48,48,0.9);
      letter-spacing: 3px;
    }

    .hidden{
      display:none;
    }

    .drop-anim{
      display:block;
      animation: dropStick 0.75s cubic-bezier(.2,.9,.3,1) forwards;
    }

    @keyframes dropStick{
      0%   { top: -180px; opacity: 0; transform: translateX(-50%) rotate(-8deg); }
      35%  { opacity: 1; }
      70%  { top: 70px; transform: translateX(-50%) rotate(5deg); }
      100% { top: 120px; opacity: 0; transform: translateX(-50%) rotate(0deg); }
    }

    /* =========================
       ç¥ˆé¡˜å„€å¼ Modal
    ========================= */
    .modal-overlay{
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,0.75);
      z-index: 9999;
      display: none;
      justify-content: center;
      align-items: center;
      padding: 20px;
    }

    .modal{
      width: min(520px, 100%);
      background: rgba(20,20,25,0.95);
      border: 1px solid rgba(246,210,123,0.22);
      border-radius: 18px;
      padding: 18px;
      box-shadow: 0 12px 40px rgba(0,0,0,0.55);
      text-align: center;
    }

    .modal h2{
      margin: 0 0 10px 0;
      font-size: 20px;
      color: var(--gold);
      letter-spacing: 1px;
    }

    .modal p{
      margin: 0 0 12px 0;
      line-height: 1.8;
      color: rgba(255,255,255,0.85);
      font-size: 14px;
      white-space: pre-line;
    }

    .modal .modal-actions{
      display:flex;
      justify-content: center;
      gap: 10px;
      flex-wrap: wrap;
      margin-top: 10px;
    }

    /* =========================
       é€²åº¦ Overlay
    ========================= */
    .progress-overlay{
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,0.55);
      z-index: 9998;
      display: none;
      justify-content: center;
      align-items: center;
      padding: 20px;
    }

    .progress-box{
      width: min(420px, 100%);
      background: rgba(15,15,20,0.95);
      border: 1px solid rgba(246,210,123,0.2);
      border-radius: 18px;
      padding: 16px;
      text-align:center;
      box-shadow: 0 12px 40px rgba(0,0,0,0.5);
    }

    .spinner{
      width: 42px;
      height: 42px;
      border-radius: 50%;
      border: 4px solid rgba(246,210,123,0.25);
      border-top: 4px solid rgba(246,210,123,0.9);
      margin: 0 auto 12px auto;
      animation: spin 0.9s linear infinite;
    }

    @keyframes spin{
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }

    .progress-text{
      color: rgba(255,255,255,0.9);
      font-weight: 800;
      letter-spacing: 1px;
      margin-bottom: 6px;
    }

    .progress-sub{
      font-size: 13px;
      color: rgba(255,255,255,0.55);
      line-height: 1.6;
    }
  </style>
</head>

<body>

  <!-- èƒŒæ™¯ç‡ˆç± å‹•ç•« -->
  <div class="lantern-bg">
    <div class="lantern lantern-1"></div>
    <div class="lantern lantern-2"></div>
    <div class="lantern lantern-3"></div>
    <div class="lantern lantern-4"></div>
    <div class="lantern lantern-5"></div>
  </div>

  <!-- ç¥ˆé¡˜å„€å¼ Modal -->
  <div class="modal-overlay" id="ritualOverlay">
    <div class="modal">
      <h2 id="ritualTitle">æŠ½ç±¤å‰ç¥ˆé¡˜</h2>
      <p id="ritualText">è«‹åœ¨å¿ƒä¸­é»˜å¿µä½ çš„é¡˜æœ›\næ·±å‘¼å¸ä¸‰æ¬¡\næº–å‚™å¥½å¾ŒæŒ‰ã€Œé–‹å§‹æŠ½ç±¤ã€</p>
      <div class="modal-actions">
        <button class="btn btn-primary" id="ritualStartBtn">é–‹å§‹æŠ½ç±¤</button>
        <button class="btn btn-ghost" id="ritualCancelBtn">å–æ¶ˆ</button>
      </div>
    </div>
  </div>

  <!-- é€²åº¦ Overlay -->
  <div class="progress-overlay" id="progressOverlay">
    <div class="progress-box">
      <div class="spinner"></div>
      <div class="progress-text" id="progressText">æŠ½ç±¤ä¸­...</div>
      <div class="progress-sub" id="progressSub">è«‹ç¨å€™</div>
    </div>
  </div>

  <div class="container">
    <header>
      <h1 id="mainTitle">æ–°å¹´é‹å‹¢æŠ½ç±¤</h1>
      <p class="subtitle" id="subtitleText">æŒ‰ä¸‹ã€ŒæŠ½ç±¤ã€æŠ½å‡ºä»Šæ—¥ç¥ç¦ã€‚</p>
    </header>

    <div class="panel">
      <div class="top-controls">
        <button class="btn btn-primary" id="drawBtn">ğŸ‹ æŠ½ç±¤</button>

        <div class="lang-switch">
          <button class="btn btn-ghost" id="zhBtn">ä¸­æ–‡</button>
          <button class="btn btn-ghost" id="enBtn">English</button>
          <button class="btn btn-danger" id="resetBtn">é‡ç½®ç±¤ç­’</button>
        </div>
      </div>

      <!-- ç±¤ç­’åœ–ç‰‡ -->
      <div class="tube-area">
        <div id="fortuneTube" class="fortune-tube">
          <div class="tube-label" id="tubeLabel">ç±¤ç­’</div>
        </div>
      </div>

      <div class="fortune-box" id="fortuneBox">

        <!-- æ‰ç±¤å‹•ç•«ç”¨çš„ç±¤ç´™ -->
        <div id="stickDrop" class="stick-drop hidden"></div>

        <div class="seal"></div>

        <div class="fortune-title">
          <div class="tag" id="fortuneTag">å°šæœªæŠ½ç±¤</div>
          <div class="fortune-number" id="fortuneNumber">---</div>
        </div>

        <div class="fortune-poem" id="fortunePoem">è«‹æŒ‰ã€ŒæŠ½ç±¤ã€é–‹å§‹</div>

        <div class="fortune-meaning" id="fortuneMeaning">
æŠ½åˆ°ç±¤å¾Œæœƒé¡¯ç¤ºç™½è©±è§£é‡‹èˆ‡è‹±æ–‡ç‰ˆå…§å®¹
        </div>

        <div class="actions">
          <button class="btn btn-ghost" id="copyBtn">ğŸ“‹ è¤‡è£½ç±¤è©©</button>
          <button class="btn btn-ghost" id="shareBtn">ğŸ–¼ï¸ åˆ†äº«åœ–ç‰‡</button>
        </div>

        <div class="note" id="noteText">
          å°æé†’ï¼šç±¤è©©å…§å®¹åƒ…ä¾›åƒè€ƒï¼Œè«‹å‹¿éåº¦è¿·ä¿¡ã€‚
        </div>
      </div>

      <footer>
        <div id="footerText">Happy Lunar New Year</div>
      </footer>
    </div>
  </div>

<script>
  let currentLang = "zh";

  // =========================
  // UI ä¸­è‹±æ–‡å­—å…¸
  // =========================
  const uiText = {
    zh: {
      title: "æ–°å¹´é‹å‹¢æŠ½ç±¤",
      subtitle: "æŒ‰ä¸‹ã€ŒæŠ½ç±¤ã€æŠ½å‡ºä»Šæ—¥ç¥ç¦ã€‚",
      drawBtn: "ğŸ‹ æŠ½ç±¤",
      resetBtn: "é‡ç½®ç±¤ç­’",
      tubeLabel: "ç±¤ç­’",
      copyBtn: "ğŸ“‹ è¤‡è£½ç±¤è©©",
      shareBtn: "ğŸ“² åˆ†äº«",
      noteText: "å°æé†’ï¼šç±¤è©©å…§å®¹åƒ…ä¾›åƒè€ƒï¼Œè«‹å‹¿éåº¦è¿·ä¿¡ã€‚"
    },
    en: {
      title: "Lucky Draw",
      subtitle: 'Press "Lucky Draw" to draw today\'s fortune.',
      drawBtn: "ğŸ‹ Lucky Draw",
      resetBtn: "Reset Tube",
      tubeLabel: "Fortune Tube",
      copyBtn: "ğŸ“‹ Copy Fortune",
      shareBtn: "ğŸ“² Share",
      noteText: "Note: Fortune text is for reference only. Please do not be overly superstitious."
    }
  };

  const msg = {
    zh: {
      noResult: "è«‹å…ˆæŠ½ä¸€æ”¯ç±¤ã€‚",
      copied: "å·²è¤‡è£½åˆ°å‰ªè²¼ç°¿ï¼",
      resetConfirm: "ç¢ºå®šè¦é‡ç½®ç±¤ç­’å—ï¼Ÿæ‰€æœ‰ç±¤æœƒé‡æ–°æ´—ç‰Œã€‚",
      emptyTube: "ç±¤ç­’å·²æŠ½å®Œï¼Œè«‹æŒ‰ã€Œé‡ç½®ç±¤ç­’ã€é‡æ–°é–‹å§‹ã€‚",
      unsupportedShare: "ä½ çš„è£ç½®ä¸æ”¯æ´åˆ†äº«åŠŸèƒ½ï¼Œå·²è¤‡è£½ç¶²å€ï¼",
      defaultTag: "å°šæœªæŠ½ç±¤",
      defaultPoem: "è«‹æŒ‰ã€ŒæŠ½ç±¤ã€é–‹å§‹",
      defaultMeaning: "æŠ½åˆ°ç±¤å¾Œæœƒé¡¯ç¤ºå…­åç”²å­ç±¤åŸæ–‡ã€‚"
    },
    en: {
      noResult: "Please draw a fortune first.",
      copied: "Copied to clipboard!",
      resetConfirm: "Reset the tube? All fortunes will be shuffled again.",
      emptyTube: "All fortunes are drawn. Please press Reset Tube.",
      unsupportedShare: "Sharing is not supported on this device. URL copied.",
      defaultTag: "Not drawn yet",
      defaultPoem: 'Press "Lucky Draw" to start',
      defaultMeaning: "After drawing, the original Sixty Jiazi fortune verse will be shown."
    }
  };

  function tMsg(key) {
    return msg[currentLang][key];
  }

  function applyLanguageUI() {
    const t = uiText[currentLang];
    document.getElementById("mainTitle").textContent = t.title;
    document.getElementById("subtitleText").textContent = t.subtitle;
    document.getElementById("drawBtn").textContent = t.drawBtn;
    document.getElementById("resetBtn").textContent = t.resetBtn;
    document.getElementById("copyBtn").textContent = t.copyBtn;
    document.getElementById("shareBtn").textContent = t.shareBtn;
    document.getElementById("tubeLabel").textContent = t.tubeLabel;
    document.getElementById("noteText").textContent = t.noteText;
  }

  // =========================
  // æŠ½ç±¤éŸ³æ•ˆï¼ˆWeb Audio APIï¼‰
  // =========================
  let audioCtx = null;

  function initAudio() {
    if (!audioCtx) {
      audioCtx = new (window.AudioContext || window.webkitAudioContext)();
    }
  }

  function playShakeSound() {
    initAudio();

    const now = audioCtx.currentTime;
    const duration = 0.45;

    const bufferSize = audioCtx.sampleRate * duration;
    const buffer = audioCtx.createBuffer(1, bufferSize, audioCtx.sampleRate);
    const data = buffer.getChannelData(0);

    for (let i = 0; i < bufferSize; i++) {
      data[i] = (Math.random() * 2 - 1) * 0.25;
    }

    const noise = audioCtx.createBufferSource();
    noise.buffer = buffer;

    const filter = audioCtx.createBiquadFilter();
    filter.type = "bandpass";
    filter.frequency.setValueAtTime(900, now);

    const gain = audioCtx.createGain();
    gain.gain.setValueAtTime(0.0001, now);
    gain.gain.exponentialRampToValueAtTime(0.55, now + 0.03);
    gain.gain.exponentialRampToValueAtTime(0.001, now + duration);

    noise.connect(filter);
    filter.connect(gain);
    gain.connect(audioCtx.destination);

    noise.start(now);
    noise.stop(now + duration);
  }

  function playDropSound() {
    initAudio();

    const now = audioCtx.currentTime;

    const osc = audioCtx.createOscillator();
    osc.type = "triangle";
    osc.frequency.setValueAtTime(520, now);
    osc.frequency.exponentialRampToValueAtTime(220, now + 0.18);

    const gain = audioCtx.createGain();
    gain.gain.setValueAtTime(0.0001, now);
    gain.gain.exponentialRampToValueAtTime(0.55, now + 0.02);
    gain.gain.exponentialRampToValueAtTime(0.0001, now + 0.22);

    osc.connect(gain);
    gain.connect(audioCtx.destination);

    osc.start(now);
    osc.stop(now + 0.25);
  }

const fortunes = [
  { no: 1, ganzhi: "ç”²å­",
    zh_poem: `æ—¥å‡ºä¾¿è¦‹é¢¨é›²æ•£ã€\nå…‰æ˜æ¸…æ·¨ç…§ä¸–é–“ã€\nä¸€å‘å‰é€”é€šå¤§é“ã€\nè¬äº‹æ¸…å‰ä¿å¹³å®‰ã€‚`,
    zh_meaning: "å¤§å‰ã€‚äº‹æƒ…æœƒè¶Šä¾†è¶Šé †ï¼Œå›°é›£æ¶ˆæ•£ï¼Œé©åˆé–‹å§‹æ–°è¨ˆç•«ã€æ±‚è·ã€è«‡åˆä½œã€‚",
    en_meaning: "Excellent luck. Problems fade away and things become smoother. Great time to start new plans."
  },
  { no: 2, ganzhi: "ç”²å¯…",
    zh_poem: `æ–¼ä»Šæ­¤æ™¯æ­£ç•¶æ™‚ã€\nçœ‹çœ‹æ¬²åç™¾èŠ±é­ã€\nè‹¥èƒ½é‡å¾—æ˜¥è‰²åˆ°ã€\nä¸€æ´’æ¸…å‰è„«å¡µåŸƒã€‚`,
    zh_meaning: "å‰ã€‚é‹å‹¢æ­£åœ¨å›å‡ï¼Œåƒæ˜¥å¤©è¦ä¾†äº†ï¼Œé©åˆç­‰å¾…å¥½æ™‚æ©Ÿå†è¡åˆºã€‚",
    en_meaning: "Good luck. Your fortune is rising like spring arriving. Wait for the right timing and act."
  },
  { no: 3, ganzhi: "ç”²è¾°",
    zh_poem: `å‹¸å›æŠŠå®šå¿ƒè«è™›ã€\nå¤©è¨»è¡£ç¥¿è‡ªæœ‰é¤˜ã€\nå’Œåˆé‡é‡å¸¸å‰æ…¶ã€\næ™‚ä¾†çµ‚é‡å¾—æ˜ç ã€‚`,
    zh_meaning: "å‰ã€‚ä¸è¦æ…Œï¼Œè©²æœ‰çš„è³‡æºæœƒä¾†ã€‚äººéš›èˆ‡åˆä½œé †ï¼Œæœ€å¾Œæœƒæœ‰å¥½çµæœã€‚",
    en_meaning: "Good luck. Stay calm. Support and resources will come. Cooperation brings success."
  },
  { no: 4, ganzhi: "ç”²åˆ",
    zh_poem: `é¢¨æ¬æµªéœå¯è¡ŒèˆŸã€\næ°æ˜¯ä¸­ç§‹æœˆä¸€è¼ªã€\nå‡¡äº‹ä¸é ˆå¤šæ†‚æ…®ã€\nç¦ç¥¿è‡ªæœ‰æ…¶å®¶é–€ã€‚`,
    zh_meaning: "å¤§å‰ã€‚å±€å‹¢ç©©å®šï¼Œé©åˆæ¨é€²è¨ˆç•«ã€æ¬å®¶ã€æ—…è¡Œã€æ±‚è²¡ï¼Œé †é †èµ°å°±æˆåŠŸã€‚",
    en_meaning: "Excellent luck. Everything is stable. Great for progress, travel, and important actions."
  },
  { no: 5, ganzhi: "ç”²ç”³",
    zh_poem: `åªæå‰é€”å‘½æœ‰è®Šã€\nå‹¸å›ä½œæ€¥å¯å®œå…ˆã€\nä¸”å®ˆé•·æ±Ÿç„¡å¤§äº‹ã€\nå‘½é€¢å¤ªç™½å®ˆèº«é‚Šã€‚`,
    zh_meaning: "ä¸­å‰ã€‚å¯èƒ½æœ‰çªç™¼è®Šå‹•ï¼Œå»ºè­°å…ˆåšå¥½æº–å‚™èˆ‡å‚™æ¡ˆï¼Œä¿å®ˆè¡Œäº‹æ¯”è¼ƒå®‰å…¨ã€‚",
    en_meaning: "Average to good. Changes may happen. Prepare backup plans and act cautiously."
  },
  { no: 6, ganzhi: "ç”²æˆŒ",
    zh_poem: `é¢¨é›²è‡´é›¨è½æ´‹æ´‹ã€\nå¤©ç½æ™‚æ°£å¿…æœ‰å‚·ã€\nå‘½å…§æ­¤äº‹é›£å’Œåˆã€\næ›´é€¢ä¸€è¶³å‡ºå¤–é„‰ã€‚`,
    zh_meaning: "ä¸‹ç±¤ã€‚è¿‘æœŸé˜»åŠ›å¤§ï¼Œå®¹æ˜“æœ‰éº»ç…©æˆ–çˆ­åŸ·ï¼Œä¸é©åˆå†’éšªæŠ•è³‡ï¼Œå¤–å‡ºéœ€æ³¨æ„å®‰å…¨ã€‚",
    en_meaning: "Bad luck. Obstacles and conflicts may arise. Avoid risky decisions and be careful when traveling."
  },
  { no: 7, ganzhi: "ä¹™ä¸‘",
    zh_poem: `é›²é–‹æœˆå‡ºæ­£åˆ†æ˜ã€\nä¸é ˆé€²é€€å•å‰ç¨‹ã€\nå©šå§»çš†ç”±å¤©è¨»å®šã€\nå’Œåˆæ¸…å‰è¬äº‹æˆã€‚`,
    zh_meaning: "å¤§å‰ã€‚äº‹æƒ…æœƒè¶Šä¾†è¶Šæ˜æœ—ï¼Œæ„Ÿæƒ…èˆ‡åˆä½œå¾ˆé †ï¼Œé©åˆè«‡å©šå§»ã€åˆä½œã€ç°½ç´„ã€‚",
    en_meaning: "Excellent luck. Things become clear. Great for relationships, agreements, and cooperation."
  },
  { no: 8, ganzhi: "ä¹™å¯",
    zh_poem: `ç¦¾ç¨»çœ‹çœ‹çµæˆå®Œã€\næ­¤äº‹å¿…å®šå…©ç›¸å…¨ã€\nå›åˆ°å®¶ä¸­å¯¬å¿ƒåã€\nå¦»å…’é¼“èˆæ¨‚åœ˜åœ“ã€‚`,
    zh_meaning: "å‰ã€‚åŠªåŠ›æœƒæœ‰æ”¶æˆï¼Œå®¶åº­é‹æ—ºï¼Œé©åˆå›æ­¸ç©©å®šã€ç´¯ç©æˆæœã€‚",
    en_meaning: "Good luck. Your effort will pay off. Family and stability bring happiness."
  },
  { no: 9, ganzhi: "ä¹™å·³",
    zh_poem: `é¾è™ç›¸éš¨åœ¨æ·±å±±ã€\nå›çˆ¾ä½•é ˆèƒŒå¾Œçœ‹ã€\nä¸çŸ¥æ­¤å»ç›¸æ„›æ„‰ã€\nä»–æ—¥èˆ‡æˆ‘å»ç„¡å¹²ã€‚`,
    zh_meaning: "ä¸­ç±¤ã€‚ä¸è¦ä¸€ç›´å›é ­æƒ³éå»ï¼Œå°ˆæ³¨çœ¼å‰ã€‚æ„Ÿæƒ…æˆ–äººéš›æœƒæœ‰è®ŠåŒ–ï¼Œé †å…¶è‡ªç„¶ã€‚",
    en_meaning: "Average luck. Stop looking back. Focus on the present. Relationships may change naturally."
  },
  { no: 10, ganzhi: "ä¹™æœª",
    zh_poem: `èŠ±é–‹çµå­ä¸€åŠæ¯ã€\nå¯æƒœä»Šå¹´æ±è™›åº¦ã€\næ¼¸æ¼¸æ—¥è½è¥¿å±±å»ã€\nå‹¸å›ä¸ç”¨å‘å‰é€”ã€‚`,
    zh_meaning: "ä¸‹ç±¤ã€‚åŠªåŠ›å¯èƒ½å¾—ä¸åˆ°ç†æƒ³å›å ±ï¼Œæš«æ™‚ä¸é©åˆç¡¬æ‹šï¼Œå…ˆä¼‘æ¯æ•´ç†å†å‡ºç™¼ã€‚",
    en_meaning: "Bad luck. Effort may not bring expected results. Pause, recover, and plan again."
  },
  { no: 11, ganzhi: "ä¹™é…‰",
    zh_poem: `éˆé›æ¼¸æ¼¸è¦‹åˆ†æ˜ã€\nå‡¡äº‹ä¸”çœ‹å­ä¸‘å¯…ã€\né›²é–‹æœˆå‡ºç…§å¤©ä¸‹ã€\néƒå›å³ä¾¿è¦‹å¤ªå¹³ã€‚`,
    zh_meaning: "ä¸­ä¸Šç±¤ã€‚å†ç­‰ç­‰ï¼Œäº‹æƒ…æœƒè®Šæ¸…æ¥šï¼Œéä¸€æ®µæ™‚é–“å°±æœƒè½‰å¥½ã€‚",
    en_meaning: "Above average. Be patient. Things will become clear soon and improve."
  },
  { no: 12, ganzhi: "ä¹™äº¥",
    zh_poem: `é•·æ±Ÿé¢¨æµªæ¼¸æ¼¸éœã€\näºä»Šå¾—é€²å¯å®‰å¯§ã€\nå¿…æœ‰è²´äººç›¸æ‰¶åŠ©ã€\nå‡¶äº‹è„«å‡ºè¦‹å¤ªå¹³ã€‚`,
    zh_meaning: "ä¸Šç±¤ã€‚å›°é›£é€æ¼¸æ¶ˆå¤±ï¼Œæœ‰è²´äººå¹«å¿™ï¼Œé©åˆé‡æ–°æ¨é€²å¡ä½çš„äº‹æƒ…ã€‚",
    en_meaning: "Good luck. Problems fade and helpful people appear. Great for restarting stalled plans."
  },
  { no: 13, ganzhi: "ä¸™å­",
    zh_poem: `å‘½ä¸­æ­£é€¢ç¾…å­›é—œã€\nç”¨ç›¡å¿ƒæ©Ÿç¸½æœªä¼‘ã€\nä½œç¦å•ç¥é›£å¾—éã€\næ°æ˜¯è¡ŒèˆŸä¸Šé«˜ç˜ã€‚`,
    zh_meaning: "ä¸‹ç±¤ã€‚é˜»ç¤™å¾ˆå¤§ï¼Œè¶Šæ€¥è¶Šå¡ï¼Œå»ºè­°å…ˆåœä¸‹ä¾†ï¼Œä¸è¦ç¡¬é—–ï¼Œé¿å…æ³•å¾‹æˆ–åˆç´„ç³¾ç´›ã€‚",
    en_meaning: "Bad luck. Strong obstacles. Do not force progress. Avoid legal or contract issues."
  },
  { no: 14, ganzhi: "ä¸™å¯…",
    zh_poem: `è²¡ä¸­æ¼¸æ¼¸è¦‹åˆ†æ˜ã€\nèŠ±é–‹èŠ±è¬çµå­æˆã€\nå¯¬å¿ƒä¸”çœ‹æœˆä¸­æ¡‚ã€\néƒå›å³ä¾¿è¦‹å¤ªå¹³ã€‚`,
    zh_meaning: "ä¸­ä¸Šç±¤ã€‚è²¡é‹é€æ¼¸æ¸…æ¥šï¼Œå…ˆæœ‰æ³¢å‹•å¾Œæœ‰æˆæœï¼Œä¿æŒè€å¿ƒå°±æœƒæ”¶ç©«ã€‚",
    en_meaning: "Above average. Finances improve gradually. Be patient and results will come."
  },
  { no: 15, ganzhi: "ä¸™è¾°",
    zh_poem: `å…«ååŸä¾†æ˜¯å¤ªå…¬ã€\nçœ‹çœ‹æ™šæ™¯é‡æ–‡ç‹ã€\nç›®ä¸‹ç·Šäº‹ä¼‘ç›¸å•ã€\nå‹¸å›ä¸”å®ˆå¾…é‹é€šã€‚`,
    zh_meaning: "ä¸­ç±¤ã€‚å±¬æ–¼å¤§å™¨æ™šæˆå‹ï¼Œç¾åœ¨ä¸è¦æ€¥ï¼Œå…ˆç´¯ç©å¯¦åŠ›ï¼Œæ™‚æ©Ÿåˆ°å°±æœƒå¤§ç¿»èº«ã€‚",
    en_meaning: "Average luck. Late success. Build skills now, big opportunities will come later."
  },
  { no: 16, ganzhi: "ä¸™åˆ",
    zh_poem: `ä¸é ˆä½œç¦ä¸é ˆæ±‚ã€\nç”¨ç›¡å¿ƒæ©Ÿç¸½æœªä¼‘ã€\né™½ä¸–ä¸çŸ¥é™°ä¸–äº‹ã€\nå®˜æ³•å¦‚çˆä¸è‡ªç”±ã€‚`,
    zh_meaning: "ä¸‹ç±¤ã€‚äº‹æƒ…å—é™åˆ¶ï¼Œå®¹æ˜“å¡åœ¨è¦å‰‡ã€åˆ¶åº¦ã€æ³•å¾‹æµç¨‹ï¼Œæš«æ™‚ä¸é©åˆå¼·æ¨ã€‚",
    en_meaning: "Bad luck. Restrictions and rules block progress. Avoid forcing things right now."
  },
  { no: 17, ganzhi: "ä¸™ç”³",
    zh_poem: `èˆŠæ¨é‡é‡æœªæ”¹ç‚ºã€\nå®¶ä¸­ç¦æ‚£ä¸è‡¨èº«ã€\né ˆç•¶è¬¹é˜²å®œä½œç¦ã€\né¾è›‡äº¤æœƒå¾—å’Œåˆã€‚`,
    zh_meaning: "ä¸­ç±¤ã€‚éå»å•é¡Œæœªè§£æ±ºï¼Œå°å¿ƒèˆŠäº‹é‡æ¼”ã€‚ä¿æŒä½èª¿ã€å¤šåšå–„äº‹å¯åŒ–è§£ã€‚",
    en_meaning: "Average luck. Old issues may return. Stay cautious and keep a positive attitude."
  },
  { no: 18, ganzhi: "ä¸™æˆŒ",
    zh_poem: `å›å•ä¸­é–“æ­¤è¨€å› ã€\nçœ‹çœ‹ç¥¿é¦¬æ‹±å‰ç¨‹ã€\nè‹¥å¾—è²´äººå¤šå¾—åˆ©ã€\nå’Œåˆè‡ªæœ‰å…©åˆ†æ˜ã€‚`,
    zh_meaning: "ä¸Šç±¤ã€‚æœ‰å‡é·èˆ‡ç™¼å±•æ©Ÿæœƒï¼Œè²´äººå¾ˆé‡è¦ï¼Œæ‰¾å°äººåˆä½œæœƒé †åˆ©ã€‚",
    en_meaning: "Good luck. Career growth is possible. A helpful person will improve your success."
  },
  { no: 19, ganzhi: "ä¸ä¸‘",
    zh_poem: `å¯Œè²´ç”±å‘½å¤©è¨»å®šã€\nå¿ƒé«˜å¿…ç„¶èª¤å›æœŸã€\nä¸ç„¶ä¸”å›ä¾èˆŠè·¯ã€\né›²é–‹æœˆå‡ºè‡ªåˆ†æ˜ã€‚`,
    zh_meaning: "ä¸­ä¸‹ç±¤ã€‚ä¸è¦å¤ªè²ªå¿ƒæˆ–å¥½é«˜é¨–é ï¼Œå›åˆ°ç©©å¥è·¯ç·šæœƒæ¯”è¼ƒé †ã€‚",
    en_meaning: "Below average. Avoid unrealistic ambition. A stable path brings better results."
  },
  { no: 20, ganzhi: "ä¸å¯",
    zh_poem: `å‰é€”åŠŸåæœªå¾—æ„ã€\nåªæå‘½å…§æœ‰äº¤åŠ ã€\nå…©å®¶å¿…å®šé˜²æå¤±ã€\nå‹¸å›ä¸”é€€è«å’¨å—Ÿã€‚`,
    zh_meaning: "ä¸‹ç±¤ã€‚åˆä½œæˆ–é‡‘éŒ¢å¯èƒ½æœ‰æå¤±ï¼Œå»ºè­°å…ˆé€€ä¸€æ­¥ï¼Œé¿å…è¡å‹•æ±ºå®šã€‚",
    en_meaning: "Bad luck. Partnerships may cause losses. Step back and avoid impulsive choices."
  },
  { no: 21, ganzhi: "ä¸å·³",
    zh_poem: `åæ–¹ä½›æ³•æœ‰éˆé€šã€\nå¤§é›£ç¦æ‚£ä¸ç›¸åŒã€\nç´…æ—¥ç•¶ç©ºå¸¸ç…§è€€ã€\né‚„æœ‰è²´äººåˆ°å®¶å ‚ã€‚`,
    zh_meaning: "ä¸Šç±¤ã€‚æœ‰è²´äººç›¸åŠ©ï¼Œå›°é›£èƒ½åŒ–è§£ã€‚é©åˆæ±‚åŠ©ã€æ±‚è·ã€è«‡æ¢ä»¶ã€‚",
    en_meaning: "Good luck. Help arrives and problems can be solved. Great for seeking support."
  },
  { no: 22, ganzhi: "ä¸æœª",
    zh_poem: `å¤ªå…¬å®¶æ¥­å…«åæˆã€\næœˆå‡ºå…‰è¼å››æµ·æ˜ã€\nå‘½å…§è‡ªç„¶é€¢å¤§å‰ã€\nèŒ…å±‹ä¸­é–“ç™¾äº‹äº¨ã€‚`,
    zh_meaning: "ä¸Šä¸Šç±¤ã€‚é‹å‹¢å¤§é–‹ï¼Œæ™šé‹æ›´æ—ºã€‚å®¶åº­ã€äº‹æ¥­ã€è²¡é‹éƒ½èƒ½é †åˆ©æå‡ã€‚",
    en_meaning: "Excellent luck. Great fortune grows stronger over time. Success in career and family."
  },
  { no: 23, ganzhi: "ä¸é…‰",
    zh_poem: `æ¬²å»é•·æ±Ÿæ°´é—ŠèŒ«ã€\nå‰é€”æœªé‚é‹æœªé€šã€\nå¦‚ä»Šçµ²ç¶¸å¸¸åœ¨æ‰‹ã€\nåªæé­šæ°´ä¸ç›¸é€¢ã€‚`,
    zh_meaning: "ä¸­ä¸‹ç±¤ã€‚ä½ æœ‰èƒ½åŠ›ä½†æ©Ÿæœƒæœªåˆ°ï¼Œå…ˆæº–å‚™å¥½ï¼Œç­‰æ™‚æ©Ÿæˆç†Ÿå†å‡ºæ‰‹ã€‚",
    en_meaning: "Below average. You have skills but timing is not ready. Prepare and wait for opportunity."
  },
  { no: 24, ganzhi: "ä¸äº¥",
    zh_poem: `æœˆå‡ºå…‰è¼å››æµ·æ˜ã€\nå‰é€”ç¥¿ä½è¦‹å¤ªå¹³ã€\næµ®é›²æƒé€€çµ‚ç„¡äº‹ã€\nå¯ä¿ç¦æ‚£ä¸è‡¨èº«ã€‚`,
    zh_meaning: "ä¸Šç±¤ã€‚äº‹æƒ…æœƒè¶Šä¾†è¶Šæ˜æœ—ï¼Œå£é‹æ•£å»ï¼Œå·¥ä½œèˆ‡åè²æœƒé€²æ­¥ã€‚",
    en_meaning: "Good luck. Clouds clear away. Career and reputation improve, troubles fade."
  },
  { no: 25, ganzhi: "æˆŠå­",
    zh_poem: `ç¸½æ˜¯å‰é€”è«å¿ƒå‹ã€\næ±‚ç¥å•è–æ‰æ˜¯å¤šã€\nä½†çœ‹é›çŠ¬æ—¥éå¾Œã€\nä¸é ˆä½œç¦äº‹å¦‚ä½•ã€‚`,
    zh_meaning: "ä¸­ç±¤ã€‚ä¸è¦æƒ³å¤ªå¤šï¼Œäº‹æƒ…æœƒè‡ªç„¶è½‰å¥½ï¼Œè€å¿ƒç­‰å¾…æ¯”äº‚æ±‚æ›´æœ‰æ•ˆã€‚",
    en_meaning: "Average luck. Do not overthink. Things will improve naturally with patience."
  },
  { no: 26, ganzhi: "æˆŠå¯…",
    zh_poem: `é¸å‡ºç‰¡ä¸¹ç¬¬ä¸€æã€\nå‹¸å›æŠ˜å–è«é²ç–‘ã€\nä¸–é–“è‹¥å•ç›¸çŸ¥è™•ã€\nè¬äº‹é€¢æ˜¥æ­£åŠæ™‚ã€‚`,
    zh_meaning: "ä¸Šä¸Šç±¤ã€‚æ©Ÿæœƒä¾†äº†è¦ç«‹åˆ»æŠŠæ¡ï¼Œé©åˆå‘Šç™½ã€é¢è©¦ã€è«‡åˆä½œã€æŠ•è³‡ã€‚",
    en_meaning: "Excellent luck. A great opportunity is here. Act quickly for love, work, and deals."
  },
  { no: 27, ganzhi: "æˆŠè¾°",
    zh_poem: `å›çˆ¾å¯¬å¿ƒä¸”è‡ªç”±ã€\né–€åº­æ¸…å‰å®¶ç„¡æ†‚ã€\nè²¡å¯¶è‡ªç„¶çµ‚å‰åˆ©ã€\nå‡¡äº‹ç„¡å‚·ä¸ç”¨æ±‚ã€‚`,
    zh_meaning: "ä¸­ä¸Šç±¤ã€‚å®¶é‹å¹³å®‰ï¼Œè²¡é‹ç©©å®šï¼Œäº‹æƒ…ä¸ç”¨å¤ªæ“å¿ƒï¼Œé †å‹¢å³å¯ã€‚",
    en_meaning: "Above average. Family and finances are stable. Relax and go with the flow."
  },
  { no: 28, ganzhi: "æˆŠåˆ",
    zh_poem: `æ–¼ä»Šè«ä½œæ­¤ç•¶æ™‚ã€\nè™è½å¹³é™½è¢«çŠ¬æ¬ºã€\nä¸–é–“å‡¡äº‹ä½•é›£å®šã€\nåƒå±±è¬æ°´ä¹Ÿé²ç–‘ã€‚`,
    zh_meaning: "ä¸‹ç±¤ã€‚é‹å‹¢ä½è¿·ï¼Œå®¹æ˜“è¢«å£“åˆ¶æˆ–åƒè™§ï¼Œæš«æ™‚ä¸è¦ç¡¬ç¢°ç¡¬ï¼Œå…ˆä¿å®ˆã€‚",
    en_meaning: "Bad luck. You may feel suppressed or disadvantaged. Avoid confrontation and stay cautious."
  },
  { no: 29, ganzhi: "æˆŠç”³",
    zh_poem: `æ¯æœ¨å¯æƒœæœªé€¢æ˜¥ã€\nå¦‚ä»Šååœ¨æš—ä¸­è—ã€\nå¯¬å¿ƒä¸”å®ˆé¢¨éœœé€€ã€\né‚„å›ä¾èˆŠä½œä¹¾å¤ã€‚`,
    zh_meaning: "ä¸­ç±¤ã€‚ç¾åœ¨é‚„æ²’è¼ªåˆ°ä½ ç™¼å…‰ï¼Œä½†åªè¦æ’ä½ï¼Œæ™‚æ©Ÿä¸€åˆ°å°±æœƒç¿»èº«ã€‚",
    en_meaning: "Average luck. Your time has not arrived yet, but patience will bring a turnaround."
  },
  { no: 30, ganzhi: "æˆŠæˆŒ",
    zh_poem: `æ¼¸æ¼¸çœ‹æ­¤æœˆä¸­å’Œã€\néå¾Œé ˆé˜²æœªå¾—é«˜ã€\næ”¹è®Šé¡è‰²å‰é€”å»ã€\nå‡¡äº‹å¿…å®šè¦‹é‡å‹ã€‚`,
    zh_meaning: "ä¸­ä¸‹ç±¤ã€‚å‰é¢é‚„è¡Œï¼Œä½†å¾Œé¢å¯èƒ½æœ‰æ³¢æŠ˜ï¼Œå»ºè­°ä¿å®ˆè¡Œäº‹ï¼Œä¸è¦å¤ªå†’éšªã€‚",
    en_meaning: "Below average. Things may change later. Stay cautious and avoid risky actions."
  },
  { no: 31, ganzhi: "å·±ä¸‘",
    zh_poem: `ç¶ æŸ³è’¼è’¼æ­£ç•¶æ™‚ã€\nä»»å›æ­¤å»ä½œä¹¾å¤ã€\nèŠ±æœçµå¯¦ç„¡æ®˜è¬ã€\nç¦ç¥¿è‡ªæœ‰æ…¶å®¶é–€ã€‚`,
    zh_meaning: "ä¸Šä¸Šç±¤ã€‚é‹å‹¢æ—ºç››ï¼Œåšäº‹å®¹æ˜“æˆåŠŸï¼ŒåŠªåŠ›æœƒæœ‰æˆæœï¼Œè²¡é‹äººéš›éƒ½æå‡ã€‚",
    en_meaning: "Excellent luck. Strong momentum. Efforts will produce great results and prosperity."
  },
  { no: 32, ganzhi: "å·±å¯",
    zh_poem: `é¾è™ç›¸äº¤åœ¨é–€å‰ã€\næ­¤äº‹å¿…å®šå…©ç›¸é€£ã€\né»ƒé‡‘å¿½ç„¶è®Šæˆéµã€\nä½•ç”¨ä½œç¦å•ç¥ä»™ã€‚`,
    zh_meaning: "ä¸‹ç±¤ã€‚è¡¨é¢çœ‹èµ·ä¾†å¾ˆå¥½ï¼Œå¯èƒ½çªç„¶è®Šå·®ï¼Œåˆä½œæˆ–æŠ•è³‡éœ€éå¸¸è¬¹æ…ã€‚",
    en_meaning: "Bad luck. Things may suddenly turn worse. Be careful with money and partnerships."
  },
  { no: 33, ganzhi: "å·±å·³",
    zh_poem: `æ¬²å»é•·æ±Ÿæ°´é—ŠèŒ«ã€\nè¡ŒèˆŸæŠŠå®šæœªé­é¢¨ã€\næˆ¶å…§ç”¨å¿ƒå†ä½œç¦ã€\nçœ‹çœ‹é­šæ°´å¾—ç›¸é€¢ã€‚`,
    zh_meaning: "ä¸­ä¸Šç±¤ã€‚åªè¦æ–¹å‘ç©©ï¼Œå°±èƒ½å®‰å…¨å‰é€²ï¼Œå®¶é‹ç©©å®šï¼Œç­‰å¾…å¥½æ¶ˆæ¯ã€‚",
    en_meaning: "Above average. Keep your direction steady. Progress is safe and good news will come."
  },
  { no: 34, ganzhi: "å·±æœª",
    zh_poem: `å±éšªé«˜å±±è¡Œéç›¡ã€\nè«å«Œæ­¤è·¯æœ‰é‡é‡ã€\nè‹¥è¦‹è˜­æ¡‚æ¼¸æ¼¸ç™¼ã€\né•·è›‡åè½‰è®Šæˆé¾ã€‚`,
    zh_meaning: "ä¸Šç±¤ã€‚è¾›è‹¦å¿«çµæŸäº†ï¼Œè¶Šèµ°è¶Šé †ï¼Œæœƒæœ‰çªç ´èˆ‡å‡ç´šçš„å¥½é‹ã€‚",
    en_meaning: "Good luck. Hard times are ending. A breakthrough is coming and fortune rises."
  },
  { no: 35, ganzhi: "å·±é…‰",
    zh_poem: `æ­¤äº‹ä½•é ˆç”¨å¿ƒæ©Ÿã€\nå‰é€”è®Šæ€ªè‡ªç„¶çŸ¥ã€\nçœ‹çœ‹æ­¤å»å¾—å’Œåˆã€\næ¼¸æ¼¸è„«å‡ºè¦‹å¤ªå¹³ã€‚`,
    zh_meaning: "ä¸­ä¸Šç±¤ã€‚ä¸å¿…ç®—è¨ˆå¤ªå¤šï¼Œé †å…¶è‡ªç„¶åè€Œæ›´å¥½ï¼Œæœ€å¾Œæœƒå’Œå¹³è§£æ±ºã€‚",
    en_meaning: "Above average. Do not over-plan. Things will resolve naturally and become peaceful."
  },
  { no: 36, ganzhi: "å·±äº¥",
    zh_poem: `ç¦å¦‚æ±æµ·å£½å¦‚å±±ã€\nå›çˆ¾ä½•é ˆå˜†è‹¦é›£ã€\nå‘½å…§è‡ªç„¶é€¢å¤§å‰ã€\nç¥ˆä¿åˆ†æ˜è‡ªå¹³å®‰ã€‚`,
    zh_meaning: "ä¸Šä¸Šç±¤ã€‚ç¦æ°£å¾ˆæ—ºï¼Œèº«å¿ƒå¹³å®‰ï¼Œå®¶é‹èˆ‡å¥åº·éƒ½ä¸éŒ¯ï¼Œé©åˆæ±‚ç©©æ±‚ç¦ã€‚",
    en_meaning: "Excellent luck. Strong blessings and peace. Great for stability, health, and family."
  },
  { no: 37, ganzhi: "åºšå­",
    zh_poem: `é‹é€¢å¾—æ„èº«é¡¯è®Šã€\nå›çˆ¾èº«ä¸­çš†æœ‰ç›Šã€\nä¸€å‘å‰é€”ç„¡é›£äº‹ã€\næ±ºæ„ä¹‹ä¸­ä¿æ¸…å‰ã€‚`,
    zh_meaning: "ä¸Šç±¤ã€‚é‹å‹¢ä¸Šå‡ï¼Œåšäº‹æœ‰åˆ©ï¼Œé©åˆåšæ±ºå®šèˆ‡æ¨é€²ç›®æ¨™ã€‚",
    en_meaning: "Good luck. Fortune improves. Great time to decide and take action."
  },
  { no: 38, ganzhi: "åºšå¯…",
    zh_poem: `åé¡¯æœ‰æ„åœ¨ä¸­å¤®ã€\nä¸é ˆç¥ˆç¦±å¿ƒè‡ªå®‰ã€\nçœ‹çœ‹æ—©æ™šæ—¥éå¾Œã€\nå³æ™‚å¾—æ„åœ¨å…¶é–“ã€‚`,
    zh_meaning: "ä¸­ä¸Šç±¤ã€‚åè²èˆ‡æˆå°±æœƒæ…¢æ…¢å‡ºç¾ï¼Œåˆ¥ç„¦æ…®ï¼Œè¿‘æœŸæœƒçœ‹åˆ°æˆæœã€‚",
    en_meaning: "Above average. Recognition comes soon. Stay calm and results will appear."
  },
  { no: 39, ganzhi: "åºšè¾°",
    zh_poem: `æ„ä¸­è‹¥å•ç¥ä»™è·¯ã€\nå‹¸çˆ¾ä¸”é€€æœ›é«˜æ¨“ã€\nå¯¬å¿ƒä¸”å®ˆå¯¬å¿ƒåã€\nå¿…ç„¶é‡å¾—è²´äººæ‰¶ã€‚`,
    zh_meaning: "ä¸­ç±¤ã€‚ä¸è¦æ€¥è‘—å¾€å‰è¡ï¼Œå…ˆé€€ä¸€æ­¥è§€å¯Ÿï¼Œè²´äººæœƒå‡ºç¾å¹«ä½ ã€‚",
    en_meaning: "Average luck. Step back and observe. A helpful person will support you."
  },
  { no: 40, ganzhi: "åºšåˆ",
    zh_poem: `å¹³ç”Ÿå¯Œè²´æˆç¥¿ä½ã€\nå›å®¶é–€æˆ¶å®šå…‰è¼ã€\næ­¤ä¸­å¿…å®šç„¡æå¤±ã€\nå¤«å¦»ç™¾æ­²å–œç›¸éš¨ã€‚`,
    zh_meaning: "ä¸Šä¸Šç±¤ã€‚å®¶åº­èˆ‡äº‹æ¥­é‹ä½³ï¼Œæ„Ÿæƒ…ç©©å®šï¼Œé©åˆçµå©šã€è²·æˆ¿ã€é•·æœŸè¦åŠƒã€‚",
    en_meaning: "Excellent luck. Strong family and career fortune. Great for marriage and long-term plans."
  },
  { no: 41, ganzhi: "åºšç”³",
    zh_poem: `ä»Šè¡Œåˆ°æ­¤å¯¦é›£æ¨ã€\næ­Œæ­Œæš¢é£²è‡ªå¾˜å¾Šã€\né›çŠ¬ç›¸èæ¶ˆæ¯è¿‘ã€\nå©šå§»å¤™ä¸–çµæˆé›™ã€‚`,
    zh_meaning: "ä¸­ç±¤ã€‚ç¾åœ¨å¯èƒ½å¡ä½æˆ–çŒ¶è±«ï¼Œä½†å¥½æ¶ˆæ¯å¿«ä¾†äº†ï¼Œæ„Ÿæƒ…èˆ‡äººéš›æœ‰å¥½ç·£åˆ†ã€‚",
    en_meaning: "Average luck. You may hesitate now, but good news is near. Relationships improve."
  },
  { no: 42, ganzhi: "åºšæˆŒ",
    zh_poem: `ä¸€é‡æ±Ÿæ°´ä¸€é‡å±±ã€\nèª°çŸ¥æ­¤å»è·¯åˆé›£ã€\nä»»ä»–æ”¹æ±‚çµ‚ä¸éã€\næ˜¯éçµ‚ä¹…æœªå¾—å®‰ã€‚`,
    zh_meaning: "ä¸‹ç±¤ã€‚é˜»ç¤™ä¸€é—œæ¥ä¸€é—œï¼Œæ˜¯éå¤šï¼Œå»ºè­°ä¸è¦å¼·æ±‚ï¼Œé é›¢çˆ­åŸ·ã€‚",
    en_meaning: "Bad luck. Many obstacles and conflicts. Avoid arguments and do not force progress."
  },
  { no: 43, ganzhi: "è¾›ä¸‘",
    zh_poem: `ä¸€å¹´ä½œäº‹æ€¥å¦‚é£›ã€\nå›çˆ¾å¯¬å¿ƒè«é²ç–‘ã€\nè²´äººé‚„åœ¨åƒé‡Œå¤–ã€\néŸ³ä¿¡æœˆä¸­æ¼¸æ¼¸çŸ¥ã€‚`,
    zh_meaning: "ä¸­ä¸Šç±¤ã€‚äº‹æƒ…é€²å±•å¾ˆå¿«ï¼Œä¸è¦æ‹–å»¶ã€‚è²´äººé›–é ä½†æœƒå¸¶ä¾†æ¶ˆæ¯èˆ‡æ©Ÿæœƒã€‚",
    en_meaning: "Above average. Things move quickly. Do not delay. Help comes from afar."
  },
  { no: 44, ganzhi: "è¾›å¯",
    zh_poem: `å®¢åˆ°å‰é€”å¤šå¾—åˆ©ã€\nå›çˆ¾ä½•æ•…å…©ç›¸ç–‘ã€\né›–æ˜¯ä¸­é–“é€¢é€²é€€ã€\næœˆå‡ºå…‰è¼å¾—é‹æ™‚ã€‚`,
    zh_meaning: "ä¸Šç±¤ã€‚å¤–ä¾†çš„äººæˆ–è³‡è¨Šæœƒå¸¶ä¾†å¥½è™•ï¼Œä¸­é€”æœƒæœ‰å°æ³¢æŠ˜ï¼Œä½†æœ€å¾Œèƒ½é †åˆ©ã€‚",
    en_meaning: "Good luck. Visitors or outside opportunities bring benefits. Small ups and downs, but success follows."
  },
  { no: 45, ganzhi: "è¾›å·³",
    zh_poem: `èŠ±é–‹ä»Šå·²çµæˆæœã€\nå¯Œè²´æ¦®è¯çµ‚åˆ°è€ã€\nå›å­å°äººç›¸æœƒåˆã€\nè¬äº‹æ¸…å‰è«ç…©æƒ±ã€‚`,
    zh_meaning: "ä¸Šä¸Šç±¤ã€‚æˆæœå·²ç¶“æˆå½¢ï¼Œè²¡é‹èˆ‡äº‹æ¥­ç©©å®šï¼Œé‡åˆ°å°äººä¹Ÿä¸ç”¨æ€•ï¼Œèƒ½åŒ–è§£ã€‚",
    en_meaning: "Excellent luck. Success is forming. Wealth and stability grow. Problems can be resolved."
  },
  { no: 46, ganzhi: "è¾›æœª",
    zh_poem: `åŠŸåå¾—æ„èˆ‡å›é¡¯ã€\nå‰é€”å¯Œè²´å–œå®‰ç„¶ã€\nè‹¥é‡ä¸€è¼ªæ˜æœˆç…§ã€\nåäº”åœ˜åœ“å…‰æ»¿å¤©ã€‚`,
    zh_meaning: "ä¸Šä¸Šç±¤ã€‚äº‹æ¥­åè²æå‡ï¼Œè²¡é‹ä½³ï¼Œå®¶åº­åœ“æ»¿ï¼Œæ˜¯éå¸¸å¥½çš„ç±¤ã€‚",
    en_meaning: "Excellent luck. Career and reputation rise. Wealth and family happiness increase."
  },
  { no: 47, ganzhi: "è¾›é…‰",
    zh_poem: `å›çˆ¾ä½•é ˆå•è–è·¡ã€\nè‡ªå·±å¿ƒä¸­çš†æœ‰ç›Šã€\næ–¼ä»Šä¸”çœ‹æœˆä¸­æ—¬ã€\nå‡¶äº‹è„«å‡ºåŒ–æˆå‰ã€‚`,
    zh_meaning: "ä¸­ä¸Šç±¤ã€‚åˆ¥æ“”å¿ƒï¼Œäº‹æƒ…æœƒç”±å‡¶è½‰å‰ï¼Œå°¤å…¶éä¸€æ®µæ™‚é–“å¾Œæ›´æ˜é¡¯ã€‚",
    en_meaning: "Above average. Bad luck turns into good. Improvement becomes clearer soon."
  },
  { no: 48, ganzhi: "è¾›äº¥",
    zh_poem: `é™½ä¸–ä½œäº‹æœªå’ŒåŒã€\né›²é®æœˆè‰²æ­£æœ¦æœ§ã€\nå¿ƒä¸­æ„æ¬²å‰é€”å»ã€\nåªæå‘½å…§é‹æœªé€šã€‚`,
    zh_meaning: "ä¸­ä¸‹ç±¤ã€‚äº‹æƒ…ä¸æ˜æœ—ï¼Œäººéš›ä¸å”èª¿ï¼Œç¾åœ¨ä¸é©åˆåšå¤§æ±ºå®šï¼Œå…ˆè§€å¯Ÿã€‚",
    en_meaning: "Below average. Things are unclear and cooperation is difficult. Wait before major decisions."
  },
  { no: 49, ganzhi: "å£¬å­",
    zh_poem: `è¨€èªé›–å¤šä¸å¯å¾ã€\né¢¨é›²éœè™•æœªè¡Œé¾ã€\næš—ä¸­çµ‚å¾—æ˜æ¶ˆæ¯ã€\nå›çˆ¾ä½•é ˆå•é‡é‡ã€‚`,
    zh_meaning: "ä¸­ç±¤ã€‚ä¸è¦è½å¤ªå¤šæµè¨€ï¼Œéœå¾…æ™‚æ©Ÿï¼Œæœ€å¾Œæœƒå¾—åˆ°çœŸå¯¦æ¶ˆæ¯èˆ‡è½‰æ©Ÿã€‚",
    en_meaning: "Average luck. Ignore rumors. Wait quietly and clear information will come."
  },
  { no: 50, ganzhi: "å£¬å¯…",
    zh_poem: `ä½›å‰ç™¼èª“ç„¡ç•°å¿ƒã€\nä¸”çœ‹å‰é€”å¾—å¥½éŸ³ã€\næ­¤ç‰©åŸä¾†æœ¬æ˜¯éµã€\nä¹Ÿèƒ½è®ŠåŒ–å¾—æˆé‡‘ã€‚`,
    zh_meaning: "ä¸Šç±¤ã€‚å …æŒåˆå¿ƒå°±æœƒæœ‰å¥½çµæœï¼Œå£äº‹èƒ½è®Šå¥½äº‹ï¼ŒåŠªåŠ›æœƒè½‰æˆæ”¶ç©«ã€‚",
    en_meaning: "Good luck. Stay true to your goals. Difficulties can transform into success."
  },
  { no: 51, ganzhi: "å£¬è¾°",
    zh_poem: `æ±è¥¿å—åŒ—ä¸å ªè¡Œã€\nå‰é€”æ­¤äº‹æ­£å¯ç•¶ã€\nå‹¸å›æŠŠå®šè«ç…©æƒ±ã€\nå®¶é–€è‡ªæœ‰ä¿å®‰åº·ã€‚`,
    zh_meaning: "ä¸­ä¸‹ç±¤ã€‚ä¸é©åˆåˆ°è™•äº‚è·‘æˆ–æ›æ–¹å‘ï¼Œå®ˆä½æœ¬æ¥­æ¯”è¼ƒå¥½ï¼Œå®¶ä¸­å¹³å®‰æœ€é‡è¦ã€‚",
    en_meaning: "Below average. Avoid unnecessary changes or travel. Stay steady and protect stability."
  },
  { no: 52, ganzhi: "å£¬åˆ",
    zh_poem: `åŠŸåäº‹æ¥­æœ¬ç”±å¤©ã€\nä¸é ˆæ›å¿µæ„æ‡¸æ‡¸ã€\nè‹¥å•ä¸­é–“é²èˆ‡é€Ÿã€\né¢¨é›²éš›æœƒåœ¨çœ¼å‰ã€‚`,
    zh_meaning: "ä¸­ä¸Šç±¤ã€‚äº‹æƒ…æœƒæˆï¼Œåªæ˜¯æ™‚é–“å•é¡Œã€‚ä¿æŒåŠªåŠ›ï¼Œæ©Ÿæœƒå°±åœ¨ä¸é è™•ã€‚",
    en_meaning: "Above average. Success will come. Timing matters, and opportunities are near."
  },
  { no: 53, ganzhi: "å£¬ç”³",
    zh_poem: `çœ‹å›ä¾†å•å¿ƒä¸­äº‹ã€\nç©å–„ä¹‹å®¶æ…¶æœ‰é¤˜ã€\né‹äº¨è²¡å­é›™é›™è‡³ã€\næŒ‡æ—¥å–œæ°£æº¢é–€é–­ã€‚`,
    zh_meaning: "ä¸Šä¸Šç±¤ã€‚å¤§æ—ºã€‚è²¡é‹ã€å®¶åº­é‹ã€äººéš›é‹éƒ½å¾ˆå¥½ï¼Œè¿‘æœŸæœƒæœ‰å–œäº‹æˆ–å¥½æ¶ˆæ¯ã€‚",
    en_meaning: "Excellent luck. Wealth and happiness increase. Great news and joyful events are coming."
  },
  { no: 54, ganzhi: "å£¬æˆŒ",
    zh_poem: `å­¤ç‡ˆå¯‚å¯‚å¤œæ²‰æ²‰ã€\nè¬äº‹æ¸…å‰è¬äº‹æˆã€\nè‹¥é€¢é™°ä¸­æœ‰å–„æœã€\nç‡’å¾—å¥½é¦™é”ç¥æ˜ã€‚`,
    zh_meaning: "ä¸­ç±¤ã€‚å‰æœŸè¾›è‹¦å­¤å–®ï¼Œä½†æœ€å¾Œèƒ½æˆã€‚ä¿æŒå–„å¿µèˆ‡åŠªåŠ›ï¼Œå°±èƒ½çªç ´é»‘æš—ã€‚",
    en_meaning: "Average luck. Hard times first, but success follows. Keep faith and keep working."
  },
  { no: 55, ganzhi: "ç™¸ä¸‘",
    zh_poem: `é ˆçŸ¥é€²é€€ç¸½è¨€è™›ã€\nçœ‹çœ‹ç™¼æš—æœªå¿…å…¨ã€\nç ç‰æ·±è—é‚„æœªè®Šã€\nå¿ƒä¸­ä½†å¾—æ‰å¾’ç„¶ã€‚`,
    zh_meaning: "ä¸­ä¸‹ç±¤ã€‚äº‹æƒ…é‚„æ²’æˆç†Ÿï¼ŒçœŸç›¸æˆ–è³‡æºå°šæœªå‡ºç¾ï¼Œä¸å®œæ€¥è‘—æ±ºå®šæˆ–æŠ•è³‡ã€‚",
    en_meaning: "Below average. Things are not ready. Do not rush decisions or investments."
  },
  { no: 56, ganzhi: "ç™¸å¯",
    zh_poem: `ç—…ä¸­è‹¥å¾—è‹¦å¿ƒå‹ã€\nåˆ°åº•å®Œå…¨ç¸½æœªé­ã€\nå»å¾Œä¸é ˆå›é ­å•ã€\nå¿ƒä¸­äº‹å‹™ç›¡æ¶ˆç£¨ã€‚`,
    zh_meaning: "ä¸‹ç±¤ã€‚å®¹æ˜“ç–²ç´¯æˆ–èº«å¿ƒä¸ç©©ï¼ŒåŠªåŠ›ä¹Ÿä¸ä¸€å®šæœ‰å›å ±ï¼Œå»ºè­°å…ˆä¼‘æ¯ï¼Œåˆ¥ç¡¬æ’ã€‚",
    en_meaning: "Bad luck. You may feel exhausted. Rest and recover instead of forcing progress."
  },
  { no: 57, ganzhi: "ç™¸å·³",
    zh_poem: `å‹¸å›æŠŠå®šå¿ƒè«è™›ã€\nå‰é€”æ¸…å‰å¾—é‹æ™‚ã€\nåˆ°åº•ä¸­é–“ç„¡å¤§äº‹ã€\nåˆé‡ç¥ä»™å®ˆå®‰å±…ã€‚`,
    zh_meaning: "ä¸Šç±¤ã€‚æ”¾å¿ƒï¼Œæ²’æœ‰å¤§ç½é›£ï¼Œäº‹æƒ…æœƒå¹³ç©©è½‰å¥½ï¼Œä¿æŒç©©å®šå°±æœƒé †åˆ©ã€‚",
    en_meaning: "Good luck. No major danger. Stay steady and things will improve smoothly."
  },
  { no: 58, ganzhi: "ç™¸æœª",
    zh_poem: `è›‡èº«æ„æ¬²è®Šæˆé¾ã€\nåªæå‘½å…§é‹æœªé€šã€\nä¹…ç—…ä¸”ä½œå¯¬å¿ƒåã€\nè¨€èªé›–å¤šä¸å¯å¾ã€‚`,
    zh_meaning: "ä¸­ä¸‹ç±¤ã€‚æƒ³çªç ´ä½†æ™‚æ©Ÿæœªåˆ°ï¼Œåˆ¥è½å¤ªå¤šå»ºè­°æˆ–æµè¨€ï¼Œå…ˆé¤Šç²¾è“„éŠ³å†è¡ã€‚",
    en_meaning: "Below average. You want to rise but timing is not ready. Ignore rumors and prepare quietly."
  },
  { no: 59, ganzhi: "ç™¸é…‰",
    zh_poem: `æœ‰å¿ƒä½œç¦è«é²ç–‘ã€\næ±‚åæ¸…å‰æ­£ç•¶æ™‚ã€\næ­¤äº‹å¿…èƒ½æˆæœƒåˆã€\nè²¡å¯¶è‡ªç„¶å–œç›¸éš¨ã€‚`,
    zh_meaning: "ä¸Šç±¤ã€‚æ±‚åæ±‚è²¡éƒ½å¾ˆé©åˆï¼Œåˆä½œå®¹æ˜“æˆåŠŸï¼ŒåŠªåŠ›è¶Šå¤šæ”¶ç©«è¶Šå¤§ã€‚",
    en_meaning: "Good luck. Great for career, fame, and money. Cooperation succeeds and rewards follow."
  },
  { no: 60, ganzhi: "ç™¸äº¥",
    zh_poem: `æœˆå‡ºå…‰è¼æœ¬æ¸…å‰ã€\næµ®é›²ç¸½æ˜¯è”½é™°è‰²ã€\næˆ¶å…§ç”¨å¿ƒå†ä½œç¦ã€\nç•¶å®˜åˆ†ç†ä¾¿æœ‰ç›Šã€‚`,
    zh_meaning: "ä¸­ä¸Šç±¤ã€‚æ•´é«”æ˜¯å‰ç±¤ï¼Œä½†æœƒæœ‰å°é˜»ç¤™ã€‚åªè¦ç´°å¿ƒè™•ç†ï¼Œå·¥ä½œèˆ‡äº‹å‹™æœƒæœ‰å¥½çµæœã€‚",
    en_meaning: "Above average. Overall good fortune, but small obstacles exist. Careful handling brings success."
  }
];


  // å¤©å¹²åœ°æ”¯è‹±æ–‡ç°¡å¯«
  const stemEN = { "ç”²":"Jia", "ä¹™":"Yi", "ä¸™":"Bing", "ä¸":"Ding", "æˆŠ":"Wu", "å·±":"Ji", "åºš":"Geng", "è¾›":"Xin", "å£¬":"Ren", "ç™¸":"Gui" };
  const branchEN = { "å­":"Zi", "ä¸‘":"Chou", "å¯…":"Yin", "å¯":"Mao", "è¾°":"Chen", "å·³":"Si", "åˆ":"Wu", "æœª":"Wei", "ç”³":"Shen", "é…‰":"You", "æˆŒ":"Xu", "äº¥":"Hai" };

  function ganzhiToEN(gz) {
    if (!gz || gz.length < 2) return gz || "";
    const s = stemEN[gz[0]] || gz[0];
    const b = branchEN[gz[1]] || gz[1];
    return `${s} ${b}`;
  }

  let remaining = [...fortunes];
  let lastResult = null;

  const fortuneBox = document.getElementById("fortuneBox");
  const fortuneTag = document.getElementById("fortuneTag");
  const fortuneNumber = document.getElementById("fortuneNumber");
  const fortunePoem = document.getElementById("fortunePoem");
  const fortuneMeaning = document.getElementById("fortuneMeaning");
  const fortuneTube = document.getElementById("fortuneTube");

function renderFortune(f){
  lastResult = f;

  if(currentLang === "zh"){
    fortuneTag.textContent = f.ganzhi;
    fortuneNumber.textContent = "ç¬¬ " + f.no + " ç±¤";
    fortunePoem.textContent = f.zh_poem;
    fortuneMeaning.textContent = "ç™½è©±è§£é‡‹ï¼š\n" + f.zh_meaning;
  }else{
    fortuneTag.textContent = "Cycle: " + f.ganzhi;
    fortuneNumber.textContent = "Fortune No. " + f.no;
    fortunePoem.textContent = f.zh_poem;
    fortuneMeaning.textContent = "Meaning:\n" + f.en_meaning;
  }
}


  function resetFortune() {
    remaining = [...fortunes];
    lastResult = null;

    fortuneTag.textContent = tMsg("defaultTag");
    fortuneNumber.textContent = "---";
    fortunePoem.textContent = tMsg("defaultPoem");
    fortuneMeaning.textContent = tMsg("defaultMeaning");
  }

  function drawFortune() {
    if (remaining.length === 0) {
      alert(tMsg("emptyTube"));
      return;
    }

    // éœ‡å‹•æ•ˆæœï¼ˆæ‰‹æ©Ÿï¼‰
    if (navigator.vibrate) {
      navigator.vibrate([80, 40, 80]);
    }

    // ç±¤ç­’æ–æ™ƒå‹•ç•«
    fortuneTube.classList.remove("tube-shake");
    void fortuneTube.offsetWidth;
    fortuneTube.classList.add("tube-shake");

    // å¡ç‰‡æ–æ™ƒå‹•ç•«
    fortuneBox.classList.remove("shake");
    void fortuneBox.offsetWidth;
    fortuneBox.classList.add("shake");

    // æ’­æ”¾æ–ç±¤è²
    playShakeSound();

    // æ‰ç±¤å‹•ç•«
    const stick = document.getElementById("stickDrop");
    stick.classList.remove("hidden");
    stick.classList.remove("drop-anim");
    void stick.offsetWidth;
    stick.classList.add("drop-anim");

    // æ‰ç±¤è²ï¼ˆå»¶é²ï¼‰
    setTimeout(() => {
      playDropSound();
    }, 180);

    // æŠ½ç±¤é‚è¼¯
    const idx = Math.floor(Math.random() * remaining.length);
    const picked = remaining[idx];
    remaining.splice(idx, 1);

    // ç­‰å‹•ç•«è·‘ä¸€ä¸‹å†é¡¯ç¤ºçµæœ
    setTimeout(() => {
      renderFortune(picked);
    }, 320);

    // å‹•ç•«çµæŸå¾Œéš±è—ç±¤ç´™
    setTimeout(() => {
      stick.classList.add("hidden");
      stick.classList.remove("drop-anim");
    }, 850);
  }

  document.getElementById("drawBtn").addEventListener("click", drawFortune);

  document.getElementById("resetBtn").addEventListener("click", () => {
    if (confirm(tMsg("resetConfirm"))) {
      resetFortune();
    }
  });

  document.getElementById("zhBtn").addEventListener("click", () => {
    currentLang = "zh";
    applyLanguageUI();
    if (lastResult) renderFortune(lastResult);
    else resetFortune();
  });

  document.getElementById("enBtn").addEventListener("click", () => {
    currentLang = "en";
    applyLanguageUI();
    if (lastResult) renderFortune(lastResult);
    else resetFortune();
  });

  document.getElementById("copyBtn").addEventListener("click", async () => {
    if (!lastResult) {
      alert(tMsg("noResult"));
      return;
    }

    let text = "";
    if (currentLang === "zh") {
      text =
        `ã€${lastResult.ganzhi}ã€‘ç¬¬ ${lastResult.no} ç±¤\n\n` +
        `${lastResult.zh_poem}\n\n` +
        `ï¼ˆå…­åç”²å­ç±¤åŸæ–‡ï¼‰`;
 }else{
  text =
    `[${lastResult.ganzhi}] Fortune No. ${lastResult.no}\n\n` +
    `${lastResult.zh_poem}\n\n` +
    `Meaning: ${lastResult.en_meaning}\n\n` +
    `Happy Lunar New Year!`;
}


    await navigator.clipboard.writeText(text);
    alert(tMsg("copied"));
  });

  document.getElementById("shareBtn").addEventListener("click", async () => {
    if (!lastResult) {
      alert(tMsg("noResult"));
      return;
    }

    let shareText = "";
    if (currentLang === "zh") {
      shareText =
        `æˆ‘æŠ½åˆ°ã€${lastResult.ganzhi}ã€‘ç¬¬ ${lastResult.no} ç±¤ï¼š\n` +
        `${lastResult.zh_poem}`;
}else{
  shareText =
    `I got Fortune No. ${lastResult.no} (${lastResult.ganzhi}):\n` +
    `${lastResult.zh_poem}\n` +
    `Meaning: ${lastResult.en_meaning}`;
}


    if (navigator.share) {
      navigator.share({
        title: currentLang === "zh" ? "æ–°å¹´é‹å‹¢æŠ½ç±¤" : "Lucky Draw",
        text: shareText,
        url: window.location.href
      });
    } else {
      await navigator.clipboard.writeText(window.location.href);
      alert(tMsg("unsupportedShare"));
    }
  });

  // åˆå§‹åŒ–
  applyLanguageUI();
  resetFortune();
</script>

</body>
</html>

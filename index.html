<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>æ–°å¹´æŠ½ç±¤è©© Lucky Draw</title>

  <style>
    :root{
      --bg1:#0b0b0f;
      --bg2:#1a0f0a;
      --card:#14141a;
      --gold:#f6d27b;
      --gold2:#d9a441;
      --red:#c53030;
      --text:#f7f7f7;
      --muted:#b9b9c5;
    }

    body{
      margin:0;
      font-family: "Noto Sans TC", "Microsoft JhengHei", system-ui, sans-serif;
      background: radial-gradient(circle at top, var(--bg2), var(--bg1));
      color: var(--text);
      min-height: 100vh;
      display:flex;
      justify-content:center;
      align-items:center;
      padding: 20px;
    }

    .container{
      width: min(900px, 100%);
    }

    header{
      text-align:center;
      margin-bottom: 20px;
    }

    h1{
      margin: 0 0 8px 0;
      font-size: 30px;
      letter-spacing: 2px;
      color: var(--gold);
    }

    .subtitle{
      margin:0;
      color: var(--muted);
      font-size: 14px;
      line-height: 1.6;
    }

    .panel{
      background: rgba(255,255,255,0.04);
      border: 1px solid rgba(255,255,255,0.08);
      border-radius: 18px;
      padding: 18px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.4);
    }

    .top-controls{
      display:flex;
      justify-content: space-between;
      align-items:center;
      gap: 12px;
      flex-wrap: wrap;
      margin-bottom: 14px;
    }

    .lang-switch{
      display:flex;
      gap: 8px;
    }

    .btn{
      border:none;
      cursor:pointer;
      border-radius: 12px;
      padding: 10px 14px;
      font-weight: 700;
      font-size: 14px;
      transition: transform 0.12s ease, opacity 0.12s ease;
    }

    .btn:active{
      transform: scale(0.97);
    }

    .btn-primary{
      background: linear-gradient(135deg, var(--gold), var(--gold2));
      color:#111;
    }

    .btn-ghost{
      background: rgba(255,255,255,0.06);
      color: var(--text);
      border: 1px solid rgba(255,255,255,0.12);
    }

    .btn-danger{
      background: rgba(197,48,48,0.2);
      color: #ffb3b3;
      border: 1px solid rgba(197,48,48,0.35);
    }

    .grid{
      display:grid;
      grid-template-columns: 1fr;
      gap: 14px;
    }

    .fortune-box{
      background: rgba(0,0,0,0.35);
      border: 1px solid rgba(246,210,123,0.22);
      border-radius: 18px;
      padding: 18px;
      position: relative;
      overflow:hidden;
    }

    .seal{
      position:absolute;
      right:-30px;
      top:-30px;
      width: 120px;
      height: 120px;
      background: radial-gradient(circle, rgba(197,48,48,0.9), rgba(197,48,48,0.25));
      border-radius: 50%;
      filter: blur(0.2px);
      opacity: 0.6;
    }

    .fortune-title{
      display:flex;
      justify-content: space-between;
      align-items:center;
      gap: 12px;
      flex-wrap: wrap;
    }

    .tag{
      display:inline-block;
      padding: 6px 10px;
      border-radius: 999px;
      background: rgba(246,210,123,0.12);
      border: 1px solid rgba(246,210,123,0.22);
      color: var(--gold);
      font-weight: 800;
      font-size: 13px;
      letter-spacing: 1px;
    }

    .fortune-number{
      font-size: 18px;
      font-weight: 900;
      color: var(--gold);
    }

    .fortune-poem{
      margin-top: 12px;
      font-size: 18px;
      line-height: 1.9;
      letter-spacing: 1px;
      white-space: pre-line;
    }

    .fortune-meaning{
      margin-top: 12px;
      font-size: 14px;
      line-height: 1.8;
      color: var(--muted);
      white-space: pre-line;
    }

    .actions{
      display:flex;
      gap: 10px;
      flex-wrap: wrap;
      margin-top: 14px;
    }

    .shake{
      animation: shake 0.55s ease;
    }

    @keyframes shake{
      0% { transform: translateX(0); }
      15% { transform: translateX(-6px) rotate(-0.5deg); }
      30% { transform: translateX(6px) rotate(0.5deg); }
      45% { transform: translateX(-4px); }
      60% { transform: translateX(4px); }
      75% { transform: translateX(-2px); }
      100% { transform: translateX(0); }
    }

    footer{
      text-align:center;
      margin-top: 16px;
      color: rgba(255,255,255,0.35);
      font-size: 12px;
      line-height: 1.7;
    }

    .note{
      margin-top: 10px;
      font-size: 13px;
      color: rgba(255,255,255,0.55);
      line-height: 1.7;
    }

    .small{
      font-size: 12px;
      color: rgba(255,255,255,0.45);
    }
  </style>
</head>

<body>
  <div class="container">
    <header>
      <h1>æ–°å¹´æŠ½ç±¤è©© Lucky Draw</h1>
      <p class="subtitle">æŒ‰ä¸‹ã€ŒæŠ½ç±¤ã€æŠ½å‡ºä»Šæ—¥ç¥ç¦ï¼Œé©åˆè¾²æ›†æ–°å¹´æ´»å‹•ï¼Œçµ¦å¤–åœ‹æœ‹å‹é«”é©—è¶…æœ‰æ°£æ°›ã€‚</p>
    </header>

    <div class="panel">
      <div class="top-controls">
        <button class="btn btn-primary" id="drawBtn">ğŸ‹ æŠ½ç±¤</button>

        <div class="lang-switch">
          <button class="btn btn-ghost" id="zhBtn">ä¸­æ–‡</button>
          <button class="btn btn-ghost" id="enBtn">English</button>
          <button class="btn btn-danger" id="resetBtn">é‡ç½®ç±¤ç­’</button>
        </div>
      </div>

      <div class="grid">
        <div class="fortune-box" id="fortuneBox">
          <div class="seal"></div>

          <div class="fortune-title">
            <div class="tag" id="fortuneTag">å°šæœªæŠ½ç±¤</div>
            <div class="fortune-number" id="fortuneNumber">---</div>
          </div>

          <div class="fortune-poem" id="fortunePoem">
è«‹æŒ‰ã€ŒæŠ½ç±¤ã€é–‹å§‹
          </div>

          <div class="fortune-meaning" id="fortuneMeaning">
æŠ½åˆ°ç±¤å¾Œæœƒé¡¯ç¤ºç™½è©±è§£é‡‹èˆ‡è‹±æ–‡ç‰ˆå…§å®¹
          </div>

          <div class="actions">
            <button class="btn btn-ghost" id="copyBtn">ğŸ“‹ è¤‡è£½ç±¤è©©</button>
            <button class="btn btn-ghost" id="shareBtn">ğŸ“² åˆ†äº«</button>
          </div>

          <div class="note" id="noteText">
            å°æé†’ï¼šæŠ½ç±¤æ˜¯ç¥ç¦å„€å¼ï¼Œé©åˆæ­é…ã€Œç¥ˆé¡˜ã€æˆ–ã€Œç¥ç¦äº¤æ›ã€æ´»å‹•ä¸€èµ·ç©ã€‚
          </div>
        </div>
      </div>

      <footer>
        <div>Made for Lunar New Year vibes.</div>
        <div class="small">ä½ å¯ä»¥åœ¨è³‡æ–™åº«æ–°å¢æ›´å¤šç±¤è©©ï¼Œå…§å®¹åœ¨ç¨‹å¼ç¢¼æœ€ä¸‹æ–¹ fortunes é™£åˆ—ã€‚</div>
      </footer>
    </div>
  </div>

  <script>
    let currentLang = "zh";

    const fortunes = [
      {
        no: 1,
        level: "ä¸Šä¸Šç±¤",
        zh_poem: "æ˜¥é¢¨å¾—æ„é¦¬è¹„ç–¾\nä¸€æ—¥çœ‹ç›¡é•·å®‰èŠ±",
        zh_meaning: "é‹å‹¢å¤§é–‹ï¼Œè¿‘æœŸæœƒé‡åˆ°å¥½æ©Ÿæœƒã€‚è¡Œå‹•è¶Šå¿«ï¼Œæ”¶ç©«è¶Šå¤§ã€‚é©åˆæ±‚è·ã€è€ƒè©¦ã€æ¬å®¶ã€å‰µæ¥­ã€‚",
        en_poem: "With spring breeze, the horse runs fast.\nIn one day, you see all the flowers of Changâ€™an.",
        en_meaning: "Great luck is coming. Opportunities appear quickly. Take action now and you will gain more."
      },
      {
        no: 2,
        level: "ä¸Šç±¤",
        zh_poem: "é›²é–‹æœˆå‡ºè¦‹å…‰æ˜\nä¸å¿…æ†‚ç–‘äº‹è‡ªæˆ",
        zh_meaning: "å›°é›£æ­£åœ¨æ¶ˆæ•£ï¼Œäº‹æƒ…æœƒæ…¢æ…¢é †åˆ©ã€‚ä¸è¦ç„¦æ…®ï¼Œä¿æŒè€å¿ƒå°±æœƒæˆåŠŸã€‚",
        en_poem: "Clouds part, the moon shines bright.\nNo need to worry, things will work out.",
        en_meaning: "Problems are clearing. Be patient and confident. The result will be positive."
      },
      {
        no: 3,
        level: "ä¸Šç±¤",
        zh_poem: "ä¸€è‘‰æ‰èˆŸé †æ°´è¡Œ\nå‰ç¨‹è¬é‡Œè‡ªé€šæ˜",
        zh_meaning: "é©åˆæ—…è¡Œã€æ›å·¥ä½œã€æ›ç’°å¢ƒã€‚èµ°å‡ºå»æœƒé‡åˆ°è²´äººï¼Œè¶Šå‹•è¶Šé †ã€‚",
        en_poem: "A small boat flows with the river.\nA bright future stretches far ahead.",
        en_meaning: "Good timing for travel or change. Moving forward brings helpful people and smoother progress."
      },
      {
        no: 4,
        level: "ä¸­ä¸Šç±¤",
        zh_poem: "èŠ±é–‹å ªæŠ˜ç›´é ˆæŠ˜\nè«å¾…ç„¡èŠ±ç©ºæŠ˜æ",
        zh_meaning: "æ©Ÿæœƒä¾†äº†è¦æŠŠæ¡ã€‚ä¸è¦æ‹–å»¶ï¼Œç¾åœ¨åšæ¯”ä»¥å¾Œæ›´å¥½ã€‚",
        en_poem: "Pick the flower when it blooms.\nDo not wait until the branch is bare.",
        en_meaning: "Act now. Do not delay. This is the right moment to seize the opportunity."
      },
      {
        no: 5,
        level: "ä¸­ç±¤",
        zh_poem: "å±±é‡æ°´è¤‡ç–‘ç„¡è·¯\næŸ³æš—èŠ±æ˜åˆä¸€æ‘",
        zh_meaning: "ä½ ç¾åœ¨å¯èƒ½å¡é—œï¼Œä½†å†åŠªåŠ›ä¸€ä¸‹æœƒå‡ºç¾æ–°æ–¹å‘ã€‚ä¸è¦æ”¾æ£„ã€‚",
        en_poem: "Mountains and rivers block the way.\nYet beyond the shade, a new village appears.",
        en_meaning: "You may feel stuck, but a new solution is near. Keep going."
      },
      {
        no: 6,
        level: "ä¸­ç±¤",
        zh_poem: "é¢¨å¹³æµªéœå®œè¡ŒèˆŸ\nå®ˆå¾—é›²é–‹è¦‹æœˆæ˜",
        zh_meaning: "é€™æ˜¯ä¸€å€‹ç©©å®šæœŸï¼Œä¸é©åˆè¡å‹•ã€‚æ…¢æ…¢ç´¯ç©ï¼Œå¾Œé¢æœƒæ›´å¥½ã€‚",
        en_poem: "Calm seas are good for sailing.\nWait until clouds clear and the moon appears.",
        en_meaning: "Stay steady. Avoid impulsive moves. Patience will bring improvement."
      },
      {
        no: 7,
        level: "ä¸­ä¸‹ç±¤",
        zh_poem: "æ¬²é€Ÿå‰‡ä¸é”\nå¿ƒæ€¥åç”Ÿäº‚",
        zh_meaning: "ä½ å¤ªæ€¥æœƒå£äº‹ã€‚å…ˆæ•´ç†å¥½è¨ˆç•«ï¼Œäº‹æƒ…è‡ªç„¶æœƒæ›´é †ã€‚",
        en_poem: "Haste brings no success.\nAn anxious heart creates chaos.",
        en_meaning: "Slow down. Plan carefully. Rushing will cause mistakes."
      },
      {
        no: 8,
        level: "ä¸‹ç±¤",
        zh_poem: "æµ®é›²è”½æ—¥é›£è¦‹æ˜\næš«ä¸”å®‰èº«è«é è¡Œ",
        zh_meaning: "æœ€è¿‘ä¸é©åˆå†’éšªæˆ–åšé‡å¤§æ±ºå®šã€‚å…ˆç©©ä½ç¾ç‹€ï¼Œç­‰æ©Ÿæœƒæ›´æ˜æœ—ã€‚",
        en_poem: "Clouds cover the sun, no light is seen.\nStay grounded, do not rush far.",
        en_meaning: "Not a good time for risky choices. Keep things stable and wait for clearer timing."
      },
      {
        no: 9,
        level: "ä¸­ä¸Šç±¤",
        zh_poem: "è²´äººç›¸åŠ©æ·»ç¦å£½\né€¢å‡¶åŒ–å‰å–œè‡¨é–€",
        zh_meaning: "æœƒæœ‰äººä¸»å‹•å¹«ä½ ï¼Œäº‹æƒ…ä¹Ÿæœƒè½‰å¥½ã€‚ä¿æŒå‹å–„èˆ‡æ„Ÿæ©ï¼Œé‹æ°£æ›´æ—ºã€‚",
        en_poem: "A helpful person brings fortune.\nBad luck turns into joy at your door.",
        en_meaning: "Support will arrive. Your situation improves. Stay open and grateful."
      },
      {
        no: 10,
        level: "ä¸Šç±¤",
        zh_poem: "é‡‘æ¦œé¡Œåéå¶ç„¶\nåå¹´å¯’çª—ä¸€æ—¥é‚„",
        zh_meaning: "åŠªåŠ›æœƒå¾—åˆ°å›å ±ã€‚é©åˆè€ƒè©¦ã€å‡é·ã€ç”³è«‹å­¸æ ¡ã€æ±‚è·é¢è©¦ã€‚",
        en_poem: "Success is never by chance.\nYears of effort return in one day.",
        en_meaning: "Hard work pays off. Great sign for exams, interviews, promotions, and applications."
      },
      {
        no: 11,
        level: "ä¸­ç±¤",
        zh_poem: "å¹³å¹³æ·¡æ·¡æ‰æ˜¯çœŸ\nä¸€æ­¥ä¸€è…³å°å‘å‰è¡Œ",
        zh_meaning: "ä¸æœƒçªç„¶çˆ†ç´…ï¼Œä½†ä½ èµ°çš„è·¯æ˜¯å°çš„ã€‚ç©©å®šåŠªåŠ›å°±æœƒè¶Šä¾†è¶Šå¥½ã€‚",
        en_poem: "Simple and steady is true.\nStep by step, move forward.",
        en_meaning: "Not dramatic luck, but strong long term progress. Keep building steadily."
      },
      {
        no: 12,
        level: "ä¸Šä¸Šç±¤",
        zh_poem: "ç¦æ˜Ÿé«˜ç…§å–œç›ˆé–€\nè¬äº‹å¦‚æ„æ¨‚ç„¡é‚Š",
        zh_meaning: "å¤§å‰ã€‚é©åˆè¨±é¡˜ã€å‘Šç™½ã€é–‹å·¥ã€èšæœƒã€‚ä»Šå¤©ä½ çš„æ°£å ´å¾ˆæ—ºã€‚",
        en_poem: "A lucky star shines above.\nJoy fills your home, all goes well.",
        en_meaning: "Excellent luck. Great day for wishes, new beginnings, gatherings, and positive actions."
      }
    ];

    let remaining = [...fortunes];
    let lastResult = null;

    const fortuneBox = document.getElementById("fortuneBox");
    const fortuneTag = document.getElementById("fortuneTag");
    const fortuneNumber = document.getElementById("fortuneNumber");
    const fortunePoem = document.getElementById("fortunePoem");
    const fortuneMeaning = document.getElementById("fortuneMeaning");

    function renderFortune(f){
      lastResult = f;

      fortuneTag.textContent = f.level;
      fortuneNumber.textContent = "ç¬¬ " + f.no + " ç±¤";

      if(currentLang === "zh"){
        fortunePoem.textContent = f.zh_poem;
        fortuneMeaning.textContent = "ç™½è©±è§£é‡‹ï¼š\n" + f.zh_meaning;
      }else{
        fortunePoem.textContent = f.en_poem;
        fortuneMeaning.textContent = "Meaning:\n" + f.en_meaning;
      }
    }

    function drawFortune(){
      if(remaining.length === 0){
        alert("ç±¤ç­’å·²æŠ½å®Œï¼Œè«‹æŒ‰ã€Œé‡ç½®ç±¤ç­’ã€é‡æ–°é–‹å§‹ã€‚");
        return;
      }

      fortuneBox.classList.remove("shake");
      void fortuneBox.offsetWidth;
      fortuneBox.classList.add("shake");

      const idx = Math.floor(Math.random() * remaining.length);
      const picked = remaining[idx];
      remaining.splice(idx, 1);

      setTimeout(() => {
        renderFortune(picked);
      }, 250);
    }

    function resetFortune(){
      remaining = [...fortunes];
      lastResult = null;

      fortuneTag.textContent = "å°šæœªæŠ½ç±¤";
      fortuneNumber.textContent = "---";
      fortunePoem.textContent = "è«‹æŒ‰ã€ŒæŠ½ç±¤ã€é–‹å§‹";
      fortuneMeaning.textContent = "æŠ½åˆ°ç±¤å¾Œæœƒé¡¯ç¤ºç™½è©±è§£é‡‹èˆ‡è‹±æ–‡ç‰ˆå…§å®¹";
    }

    document.getElementById("drawBtn").addEventListener("click", drawFortune);

    document.getElementById("resetBtn").addEventListener("click", () => {
      if(confirm("ç¢ºå®šè¦é‡ç½®ç±¤ç­’å—ï¼Ÿæ‰€æœ‰ç±¤æœƒé‡æ–°æ´—ç‰Œã€‚")){
        resetFortune();
      }
    });

    document.getElementById("zhBtn").addEventListener("click", () => {
      currentLang = "zh";
      if(lastResult) renderFortune(lastResult);
    });

    document.getElementById("enBtn").addEventListener("click", () => {
      currentLang = "en";
      if(lastResult) renderFortune(lastResult);
    });

    document.getElementById("copyBtn").addEventListener("click", async () => {
      if(!lastResult){
        alert("è«‹å…ˆæŠ½ä¸€æ”¯ç±¤ã€‚");
        return;
      }

      let text = "";
      if(currentLang === "zh"){
        text =
          `ã€${lastResult.level}ã€‘ç¬¬ ${lastResult.no} ç±¤\n\n` +
          `${lastResult.zh_poem}\n\n` +
          `ç™½è©±è§£é‡‹ï¼š${lastResult.zh_meaning}\n\n` +
          `æ–°å¹´å¿«æ¨‚ï¼`;
      }else{
        text =
          `ã€${lastResult.level}ã€‘Fortune No. ${lastResult.no}\n\n` +
          `${lastResult.en_poem}\n\n` +
          `Meaning: ${lastResult.en_meaning}\n\n` +
          `Happy Lunar New Year!`;
      }

      await navigator.clipboard.writeText(text);
      alert("å·²è¤‡è£½åˆ°å‰ªè²¼ç°¿ï¼");
    });

    document.getElementById("shareBtn").addEventListener("click", async () => {
      if(!lastResult){
        alert("è«‹å…ˆæŠ½ä¸€æ”¯ç±¤ã€‚");
        return;
      }

      let shareText = "";
      if(currentLang === "zh"){
        shareText =
          `æˆ‘æŠ½åˆ°ã€${lastResult.level}ã€‘ç¬¬ ${lastResult.no} ç±¤ï¼š\n` +
          `${lastResult.zh_poem}\n` +
          `è§£é‡‹ï¼š${lastResult.zh_meaning}`;
      }else{
        shareText =
          `I got Fortune No. ${lastResult.no} (${lastResult.level}):\n` +
          `${lastResult.en_poem}\n` +
          `Meaning: ${lastResult.en_meaning}`;
      }

      if(navigator.share){
        navigator.share({
          title: "Lucky Draw",
          text: shareText,
          url: window.location.href
        });
      }else{
        await navigator.clipboard.writeText(window.location.href);
        alert("ä½ çš„è£ç½®ä¸æ”¯æ´åˆ†äº«åŠŸèƒ½ï¼Œå·²è¤‡è£½ç¶²å€ï¼");
      }
    });
  </script>
</body>
</html>
